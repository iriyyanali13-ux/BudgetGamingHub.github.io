<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPS Comparison | Gaming Budget Hub</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary-neon: #00ffcc; --bg-deep: #0b0e14; --card-bg: #161b22; }
        body.light-mode { --bg-deep: #f4f4f9; --card-bg: #ffffff; color: #333; }
        body { background-color: var(--bg-deep); color: #e6edf3; font-family: 'Segoe UI', sans-serif; margin: 0; transition: 0.3s; }
        
        .header { background: rgba(13, 17, 23, 0.95); border-bottom: 2px solid var(--primary-neon); display: flex; justify-content: space-between; align-items: center; padding: 1rem 5%; position: sticky; top: 0; z-index: 2000; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary-neon); text-transform: uppercase; }
        .nav a { color: #fff; text-decoration: none; margin-left: 20px; font-weight: 500; }
        body.light-mode .nav a { color: #333; }

        .container { max-width: 800px; margin: 50px auto; padding: 20px; text-align: center; }
        
        .chart-container { 
            position: relative; 
            margin: auto; 
            height: 400px; 
            width: 400px; 
            background: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #30363d;
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.1);
        }

        .theme-btn { background: none; border: 1px solid var(--primary-neon); color: var(--primary-neon); cursor: pointer; padding: 5px 12px; border-radius: 5px; }
    </style>
</head>
<body>

<header class="header">
    <div class="logo">Gaming Budget Hub</div>
    <nav class="nav">
        <a href="index.html">Home</a>
        <a href="builds.html">PC Builds</a>
        <a href="fps-guides.html">FPS Guides</a>
        <a href="contact.html">Contact Us</a>
    </nav>
    <button id="theme-toggle" class="theme-btn">ðŸŒ™</button>
</header>

<main class="container">
    <h2 style="color: var(--primary-neon);">Market Share of Budget Builds</h2>
    <p>Which budget category is most popular among Pakistani gamers?</p>
    
    <div class="chart-container">
        <canvas id="fpsPieChart"></canvas>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Theme Toggle Logic
        const themeBtn = document.getElementById('theme-toggle');
        if (localStorage.getItem('theme') === 'light') document.body.classList.add('light-mode');

        themeBtn.addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
            window.location.reload(); // Refresh to update chart colors
        });

        // Chart.js Implementation
        const ctx = document.getElementById('fpsPieChart').getContext('2d');
        const isLight = document.body.classList.contains('light-mode');
        const labelColor = isLight ? '#333333' : '#ffffff';

        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['20k Build', '30k Build', '40k Build', '50k Build', '60k Build'],
                datasets: [{
                    data: [10, 20, 25, 30, 15], // Popularity %
                    backgroundColor: [
                        '#4b5563', // Grey
                        '#ff4d4d', // Red
                        '#ffdb4d', // Yellow
                        '#00ffcc', // Teal
                        '#9d4dff'  // Purple
                    ],
                    borderWidth: 2,
                    borderColor: isLight ? '#ffffff' : '#161b22'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: labelColor,
                            font: { size: 14, family: 'Segoe UI' }
                        }
                    }
                }
            }
        });
    });
</script>
</body>
</html>